<div class="container-fluid px-4">
    <app-tistique></app-tistique>

    <div class="container" style="margin-top: 20px;">
        <div class="row">
            <div class="col-lg-8">
                <div class="row mb-3">
                    <div class="col-12">
                        <div class="d-flex align-items-center justify-content-between bg-light py-2 px-4 mb-3">
                            <h3 class="m-0" id="h3">ENTREPRISE</h3>
                            <select id="select" ngModel name="selectcat" (change)="onCategoryChange($event)" class="form-select">
                                <option value="" >Choisir une Categorie</option>
                                <option value="tout" >tout</option>
                            
                                <option *ngFor="let category of listCategorie" value="{{category.id}}">{{ category.nom }}</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-12">                        
                        <div class="row" style="margin-bottom: 10px;">
                            <div class="col-xl-6 col-md-6" *ngFor="let item of listEntreprise | paginate: { itemsPerPage: 4, currentPage: p }">
                                <div class="card">
                                    <div class="card-block">
                                        <div class="row align-items-center justify-content-center">
                                            <div class="col-auto">
                                                <img class="img-fluid rounded-circle" style="width:70px;" [src]="item.logo" alt="dashboard-user">
                                            </div>
                                            <div class="col">
                                                <h5>{{item.nom}}</h5>
                                                <span>{{item.email}}</span>
                                            </div>
                                        </div>
                                        <ul class="task-list">
                                            <li>
                                                <i class="task-icon bg-c-green"></i>
                                                <h6>Adresse<span class="float-right text-muted">(+223) {{item.telephone}}</span></h6>
                                                <p class="text-muted">{{item.ville}},{{item.adresse}}</p>
                                            </li>
                                            <li>
                                                <i class="task-icon bg-c-green"></i>
                                                <h6>Personne a contacter<span class="float-right text-muted"></span></h6>
                                                <p class="text-muted">{{item.personneContact}}</p>
                                            </li>
                                            <li>
                                                <i class="task-icon bg-c-green"></i>
                                                <h6>Secteur d'activité<span class="float-right text-muted"></span></h6>
                                                <p class="text-center" style="color: #1de9b6; background-color:bisque; border-radius: 10px; font-weight: bold;">{{item.categorieEntreprise.nom}}</p>
                                            </li>
                                        </ul>
                                        
                                        <div class="text-center">
                                            
                                                
                                            <div class="list-inline contacts-social mt-1 mb-1"> 
                                                
                                                <a *ngIf="item?.facebook" title="Facebook" [href]="item?.facebook" class="list-inline-item bg-facebook text-white border-0"><i class="bx bxl-facebook"></i></a>
                                                <a *ngIf="item?.site" title="Site entreprise" [href]="item?.site" class="list-inline-item bg-twitter text-white border-0"><i class="fa-solid fa-link"></i></a>
                                                <a *ngIf="item?.linkdin" title="Linkdin" [href]="item?.linkdin" class="list-inline-item bg-linkedin text-white border-0"><i class="bx bxl-linkedin"></i></a>
                                            </div>
                                            <div class="list-inline contacts-social mt-1 mb-1"> 
                                                <button *ngIf="item.confirmer===false" (click)="ConfirmerEntrepriseToTrue(item.id)" class="btn btn-primary btn-sm " style="font-weight: bold; margin-right: 5px;"   type="button">Confirmer</button>
                                                <button *ngIf="item.confirmer===true" (click)="ConfirmerEntrepriseToTrue(item.id)" class="btn btn-primary btn-sm " style="font-weight: bold; margin-right: 5px;"   type="button">Retirer</button>
                                                <button  class="btn btn-danger btn-sm " style="font-weight: bold;" type="button">Supprimer</button>
                                            </div>
                                        </div>
                                            
                                    </div>
                                </div>
                            </div>
                            
                        </div>
                        <pagination-controls style="text-align: center;" (pageChange)="p = $event"></pagination-controls> 
                    </div>                 
                </div>
                
                <div class="mb-3 pb-3">
                    <a href=""><img class="img-fluid w-100" src="assets/img/Group 12.png" alt=""></a>
                </div>                
                
            </div>
            
            <div class="col-lg-4 pt-3 pt-lg-0">
                <!-- Social Follow Start -->
                <app-r-social></app-r-social>
                <!-- Social Follow End -->
                <div class="pb-3">
                    <div class="bg-light py-2 px-4 mb-3">
                        <h3 class="m-0">Récemment publiés</h3>
                    </div>
                    <div class="d-flex mb-3" *ngFor="let item of listOffreRecent">
                        <img [src]="item.logo" style="width: 100px; ">
                        <div class="w-100 d-flex flex-column justify-content-center bg-light px-3" style="height: 100px;">
                            <div class="mb-1" style="font-size: 13px;">
                                <a href="">{{item.ville}}</a>
                                <span class="px-1">/</span>
                                <span>le {{item.dateCreation}}</span>
                            </div>
                            <a class="h6 m-0" href="" style="font-size: 13px;">{{item.nom}}</a>
                            <div class="mb-1" style="font-size: 13px;">
                                <a href="">Telephone </a>
                                <span class="px-1">:</span>
                                <span>{{item.telephone}}</span>
                            </div>
                        </div>
                    </div>                
                </div>
            </div>
        </div>
    </div>

</div>